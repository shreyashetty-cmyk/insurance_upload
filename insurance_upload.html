<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <title>Upload Your Insurance Card</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Google Fonts -->

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

  <style>

    :root {

      --bg-soft: #f7f9fc;

      --card-bg: #ffffff;

      --primary-blue: #2c5aa0;

      --accent-purple: #6c63ff;

      --text-main: #1f2933;

      --text-muted: #6b7280;

      --border-soft: #e2e8f0;

      --shadow-soft: 0 14px 30px rgba(15, 23, 42, 0.08);

      --radius-lg: 18px;

      --radius-md: 12px;

      --transition-fast: 0.18s ease-out;

    }



    * {

      box-sizing: border-box;

      margin: 0;

      padding: 0;

    }



    body {

      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

      background: radial-gradient(circle at top left, #eef3ff 0, #f7f9fc 45%, #f7f9fc 100%);

      color: var(--text-main);

      min-height: 100vh;

      display: flex;

      justify-content: center;

      align-items: flex-start;

      padding: 32px 16px;

    }



    .page-shell {

      width: 100%;

      max-width: 1080px;

      background: rgba(255, 255, 255, 0.9);

      border-radius: 28px;

      padding: 28px 22px 26px;

      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.12);

      backdrop-filter: blur(10px);

      border: 1px solid rgba(148, 163, 184, 0.3);

    }



    .page-header {

      text-align: center;

      margin-bottom: 26px;

    }



    .page-header h1 {

      font-family: "Poppins", system-ui, sans-serif;

      font-size: 1.5rem;

      color: var(--primary-blue);

      letter-spacing: 0.02em;

      margin-bottom: 8px;

    }



    .page-header p {

      font-size: 0.95rem;

      color: var(--text-muted);

    }



    .options-grid {

      display: grid;

      grid-template-columns: repeat(2, minmax(0, 1fr));

      gap: 18px;

    }



    /* Center the detailed section when only one card is visible */
    #detailOptions {

      justify-content: center;

    }



    @media (max-width: 768px) {

      body {

        align-items: stretch;

        padding: 18px 10px;

      }

      .page-shell {

        padding: 20px 16px 18px;

        border-radius: 20px;

      }

      .options-grid {

        grid-template-columns: 1fr;

      }

    }



    .option-card {

      background: var(--card-bg);

      border-radius: var(--radius-lg);

      padding: 18px 16px 16px;

      box-shadow: var(--shadow-soft);

      border: 1px solid rgba(148, 163, 184, 0.32);

      display: flex;

      flex-direction: column;

      gap: 14px;

      position: relative;

      overflow: hidden;

    }



    .option-card::before {

      content: "";

      position: absolute;

      inset: 0;

      background: radial-gradient(circle at top right, rgba(108, 99, 255, 0.12), transparent 55%);

      opacity: 0.9;

      pointer-events: none;

    }



    .option-inner {

      position: relative;

      z-index: 1;

      display: flex;

      flex-direction: column;

      gap: 12px;

    }



    .option-header {

      display: flex;

      align-items: center;

      justify-content: space-between;

      gap: 10px;

    }



    .option-title {

      display: flex;

      flex-direction: column;

      gap: 2px;

    }



    .option-title h2 {

      font-family: "Poppins", system-ui, sans-serif;

      font-size: 1.05rem;

      color: var(--primary-blue);

    }



    .option-title span {

      font-size: 0.8rem;

      color: var(--text-muted);

    }



    .pill {

      font-size: 0.75rem;

      padding: 4px 10px;

      border-radius: 999px;

      background: rgba(108, 99, 255, 0.08);

      color: var(--accent-purple);

      border: 1px solid rgba(108, 99, 255, 0.24);

      font-weight: 500;

    }



    .hint {

      font-size: 0.8rem;

      color: var(--text-muted);

    }



    .upload-zone {

      border-radius: var(--radius-md);

      border: 1.5px dashed rgba(148, 163, 184, 0.8);

      background: rgba(248, 250, 252, 0.9);

      padding: 12px 10px;

      display: flex;

      flex-direction: column;

      align-items: center;

      text-align: center;

      gap: 8px;

    }



    .upload-zone span {

      font-size: 0.83rem;

      color: var(--text-muted);

    }



    .btn {

      appearance: none;

      border: none;

      cursor: pointer;

      border-radius: 999px;

      padding: 9px 18px;

      font-size: 0.9rem;

      font-weight: 500;

      font-family: inherit;

      display: inline-flex;

      align-items: center;

      justify-content: center;

      gap: 6px;

      transition: transform var(--transition-fast), box-shadow var(--transition-fast), background-color var(--transition-fast), color var(--transition-fast);

      white-space: nowrap;

    }



    .btn-primary {

      background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));

      color: white;

      box-shadow: 0 10px 18px rgba(37, 99, 235, 0.27);

    }



    .btn-outline {

      background: transparent;

      color: var(--primary-blue);

      border: 1px solid rgba(44, 90, 160, 0.35);

      padding-inline: 14px;

      font-size: 0.83rem;

    }



    .btn:active {

      transform: translateY(0);

      box-shadow: none;

    }



    .btn-primary:hover {

      transform: translateY(-1px);

      box-shadow: 0 12px 24px rgba(37, 99, 235, 0.34);

    }



    .btn-outline:hover {

      background: rgba(108, 99, 255, 0.06);

    }



    .preview-grid {

      display: grid;

      grid-template-columns: repeat(2, minmax(0, 1fr));

      gap: 10px;

      margin-top: 6px;

    }



    @media (max-width: 480px) {

      .preview-grid {

        grid-template-columns: 1fr;

      }

    }



    .preview-slot {

      border-radius: 12px;

      border: 1px solid var(--border-soft);

      background: #f9fafb;

      padding: 8px;

      display: flex;

      flex-direction: column;

      gap: 6px;

    }



    .preview-label {

      font-size: 0.78rem;

      font-weight: 500;

      color: var(--primary-blue);

    }



    .preview-box {

      border-radius: 9px;

      border: 1px dashed rgba(148, 163, 184, 0.9);

      background: white;

      min-height: 80px;

      display: flex;

      align-items: center;

      justify-content: center;

      overflow: hidden;

      padding: 4px;

    }



    .preview-box span {

      font-size: 0.75rem;

      color: var(--text-muted);

    }



    .preview-box img {

      max-width: 100%;

      max-height: 120px;

      object-fit: cover;

      border-radius: 7px;

    }



    .file-name {

      font-size: 0.75rem;

      color: var(--text-muted);

      word-break: break-all;

    }



    .badge-small {

      font-size: 0.7rem;

      padding: 2px 6px;

      border-radius: 999px;

      background: rgba(15, 118, 110, 0.06);

      color: #0f766e;

      border: 1px solid rgba(34, 197, 94, 0.35);

      align-self: flex-start;

    }



    .error-banner {

      display: none;

      margin-top: 6px;

      padding: 6px 9px;

      border-radius: 9px;

      font-size: 0.78rem;

      background: rgba(220, 38, 38, 0.06);

      color: #b91c1c;

      border: 1px solid rgba(248, 113, 113, 0.7);

    }



    .error-banner.visible {

      display: block;

    }



    .camera-note {

      font-size: 0.78rem;

      color: var(--text-muted);

    }

  </style>

</head>

<body>

  <div class="page-shell">

    <div class="page-header">

      <h1>Upload Your Insurance Card</h1>

      <p>Please upload clear photos of the front and back of your insurance card.</p>

    </div>



    <!-- Step 1: High-level choice -->
    <div class="options-grid" id="initialOptions">

      <section class="option-card" aria-label="Choose upload from system">
        <div class="option-inner">
          <header class="option-header">
            <div class="option-title">
              <h2>Upload from System</h2>
              <span>Use existing photos or a PDF from your device</span>
            </div>
          </header>
          <button type="button" class="btn btn-primary" id="selectSystemOption">
            Upload from System
          </button>
        </div>
      </section>

      <section class="option-card" aria-label="Choose upload via camera">
        <div class="option-inner">
          <header class="option-header">
            <div class="option-title">
              <h2>Use Camera</h2>
              <span>Take new photos of your insurance card</span>
            </div>
          </header>
          <button type="button" class="btn btn-primary" id="selectCameraOption">
            Open Camera Options
          </button>
        </div>
      </section>

    </div>



    <!-- Step 2: Detailed options (hidden until a choice is made) -->
    <div class="options-grid" id="detailOptions" style="display: none;">

      <!-- LEFT: Upload from device -->

      <section class="option-card" aria-label="Upload from your device">

        <div class="option-inner">

          <header class="option-header">

            <div class="option-title">

              <h2>Upload from System (JPG, PNG, PDF)</h2>

            </div>

          </header>



          <p class="hint">Select or drag files from your device.</p>



          <div class="upload-zone" id="deviceUploadZone">

            <button type="button" class="btn btn-primary" id="deviceUploadBtn">

              Choose files

            </button>

            <span>JPG, PNG, or PDF up to 2 files</span>

            <input

              type="file"

              id="deviceFileInput"

              accept="image/jpeg,image/png,application/pdf"

              multiple

              style="display: none;"

            />

          </div>



          <div class="error-banner" id="deviceErrorBanner">

            Please upload only the front and back of your insurance card (maximum 2 files).

          </div>



          <div id="deviceSelectedFiles" class="hint" style="margin-top: 12px;">
            No files selected yet.
          </div>

        </div>

      </section>



      <!-- RIGHT: Use camera -->

      <section class="option-card" aria-label="Use camera to capture insurance card">

        <div class="option-inner">

          <header class="option-header">

            <div class="option-title">

              <h2>Open Camera</h2>

              <span>Capture live photos of your insurance card</span>

            </div>

          </header>



          <div class="upload-zone">

            <div style="display: flex; flex-direction: column; gap: 8px; width: 100%;">

              <div style="display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;">

                <button type="button" class="btn btn-primary" id="captureFrontBtn">

                  Capture Front Image

                </button>

                <button type="button" class="btn btn-primary" id="captureBackBtn">

                  Capture Back Image

                </button>

              </div>

            </div>

            <!-- Hidden camera inputs -->

            <input

              type="file"

              id="cameraFrontInput"

              accept="image/*"

              capture="environment"

              style="display: none;"

            />

            <input

              type="file"

              id="cameraBackInput"

              accept="image/*"

              capture="environment"

              style="display: none;"

            />

          </div>



          <div class="preview-grid" aria-label="Camera previews">

            <div class="preview-slot">

              <div class="preview-label">Captured Front Image</div>

              <div class="preview-box" id="cameraFrontPreview">

                <span>Not captured yet</span>

              </div>

              <span class="badge-small" id="cameraFrontBadge" style="display:none;">Ready to submit</span>

            </div>

            <div class="preview-slot">

              <div class="preview-label">Captured Back Image</div>

              <div class="preview-box" id="cameraBackPreview">

                <span>Not captured yet</span>

              </div>

              <span class="badge-small" id="cameraBackBadge" style="display:none;">Ready to submit</span>

            </div>

          </div>

        </div>

      </section>

    </div>

    <!-- Submit + back buttons (shared for both methods) -->
    <div style="display: none; margin-top: 24px; text-align: center;" id="submitContainer">
      <button type="button" class="btn btn-outline" id="backToMainBtn" style="margin-right: 8px;">
        Back
      </button>
      <button type="button" class="btn btn-primary" id="submitBtn">
        Submit
      </button>
    </div>

  </div>



  <script>

    // -------- Step navigation (show chosen method) --------
    const initialOptions = document.getElementById("initialOptions");
    const detailOptions = document.getElementById("detailOptions");
    const systemSection = document.querySelector('section[aria-label="Upload from your device"]');
    const cameraSection = document.querySelector('section[aria-label="Use camera to capture insurance card"]');

    const selectSystemOption = document.getElementById("selectSystemOption");
    const selectCameraOption = document.getElementById("selectCameraOption");

    const submitContainer = document.getElementById("submitContainer");
    const backToMainBtn = document.getElementById("backToMainBtn");

    if (selectSystemOption && selectCameraOption && initialOptions && detailOptions && submitContainer) {
      selectSystemOption.addEventListener("click", () => {
        initialOptions.style.display = "none";
        detailOptions.style.display = "grid";
        submitContainer.style.display = "block";
        if (systemSection) systemSection.style.display = "block";
        if (cameraSection) cameraSection.style.display = "none";
      });

      selectCameraOption.addEventListener("click", () => {
        initialOptions.style.display = "none";
        detailOptions.style.display = "grid";
        submitContainer.style.display = "block";
        if (cameraSection) cameraSection.style.display = "block";
        if (systemSection) systemSection.style.display = "none";
      });
    }

    // Back button to return to main choice
    if (backToMainBtn && initialOptions && detailOptions && submitContainer) {
      backToMainBtn.addEventListener("click", () => {
        // Hide detailed step and submit, show main options again
        detailOptions.style.display = "none";
        submitContainer.style.display = "none";
        initialOptions.style.display = "grid";
      });
    }


    // -------- Upload from device --------

    const deviceUploadBtn = document.getElementById("deviceUploadBtn");

    const deviceFileInput = document.getElementById("deviceFileInput");

    const deviceErrorBanner = document.getElementById("deviceErrorBanner");

    const deviceSelectedFiles = document.getElementById("deviceSelectedFiles");



    function isImageFile(file) {

      return file.type.startsWith("image/");

    }



    deviceUploadBtn.addEventListener("click", () => {

      deviceFileInput.click();

    });



    deviceFileInput.addEventListener("change", (event) => {

      const files = Array.from(event.target.files || []);



      deviceErrorBanner.classList.remove("visible");

      if (deviceSelectedFiles) {
        deviceSelectedFiles.textContent = "No files selected yet.";
      }



      if (files.length === 0) {

        return;

      }



      if (files.length > 2) {

        // Reset input so user can reâ€‘select

        deviceFileInput.value = "";

        deviceErrorBanner.classList.add("visible");

        alert("Please upload only the front and back of your insurance card (maximum 2 files).");

        return;

      }



      // Show simple list of selected files (supports images and PDFs)
      if (deviceSelectedFiles) {
        const parts = files.map((file) => {
          const typeLabel = isImageFile(file)
            ? "Image"
            : (file.type === "application/pdf" ? "PDF" : "File");
          return `${file.name} (${typeLabel})`;
        });
        deviceSelectedFiles.textContent = parts.join(", ");
      }

    });



    // -------- Camera capture --------

    const captureFrontBtn = document.getElementById("captureFrontBtn");

    const captureBackBtn = document.getElementById("captureBackBtn");

    const cameraFrontInput = document.getElementById("cameraFrontInput");

    const cameraBackInput = document.getElementById("cameraBackInput");



    const cameraFrontPreview = document.getElementById("cameraFrontPreview");

    const cameraBackPreview = document.getElementById("cameraBackPreview");

    const cameraFrontBadge = document.getElementById("cameraFrontBadge");

    const cameraBackBadge = document.getElementById("cameraBackBadge");



    function handleCameraInput(fileInput, previewBox, badgeEl) {

      const file = fileInput.files && fileInput.files[0];

      if (!file) return;



      const reader = new FileReader();

      reader.onload = (e) => {

        previewBox.innerHTML = "";

        const img = document.createElement("img");

        img.src = e.target.result;

        img.alt = "Captured image preview";

        previewBox.appendChild(img);

        if (badgeEl) {

          badgeEl.style.display = "inline-flex";

        }

      };

      reader.readAsDataURL(file);

    }



    captureFrontBtn.addEventListener("click", () => {

      cameraFrontInput.click();

    });



    captureBackBtn.addEventListener("click", () => {

      cameraBackInput.click();

    });



    cameraFrontInput.addEventListener("change", () => {

      handleCameraInput(cameraFrontInput, cameraFrontPreview, cameraFrontBadge);

    });



    cameraBackInput.addEventListener("change", () => {

      handleCameraInput(cameraBackInput, cameraBackPreview, cameraBackBadge);

    });

  </script>

</body>

</html>

